from flask import Flask, request
import json

app = Flask(__name__)

@app.post("/api/login")
def loginAPI() :
    if request.form["grant_type"] == "password" :
        if not request.form["username"] == "demo" or not request.form["password"] == "123"  :
            return ""

    d = {}

    d["bak:UserId"] = "demoUser"
    d["access_token"] = "aToken"
    d["refresh_token"] = "rToken"

    j = json.dumps(d)

    return j

@app.get("/api/3/user")
def userInfoAPI() :
    d = {}

    d["FullName"] = "Smith John, VI.A"
    d["UserType"] = "parents"
    d["UserTypeText"] = "parent"

    j = json.dumps(d)

    return j

@app.get("/api/3/timetable/permanent")
def timetableAPI() :
    #JSON from https://github.com/bakalari-api/bakalari-api-v3/blob/master/moduly/timetable.md
    j = '{"Hours":[{"Id":2,"Caption":"0","BeginTime":"7:05","EndTime":"7:50"},{"Id":3,"Caption":"1","BeginTime":"8:00","EndTime":"8:45"},{"Id":4,"Caption":"2","BeginTime":"8:55","EndTime":"9:40"},{"Id":5,"Caption":"3","BeginTime":"10:00","EndTime":"10:45"},{"Id":6,"Caption":"4","BeginTime":"10:55","EndTime":"11:40"},{"Id":7,"Caption":"5","BeginTime":"11:50","EndTime":"12:35"},{"Id":8,"Caption":"6","BeginTime":"12:40","EndTime":"13:25"},{"Id":9,"Caption":"7","BeginTime":"13:35","EndTime":"14:20"},{"Id":10,"Caption":"8","BeginTime":"14:30","EndTime":"15:15"},{"Id":11,"Caption":"9","BeginTime":"15:20","EndTime":"16:05"},{"Id":12,"Caption":"10","BeginTime":"16:10","EndTime":"16:55"}],"Days":[{"Atoms":[{"HourId":3,"GroupIds":["0C"],"SubjectId":" 6","TeacherId":"U  12","RoomId":"0X","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":4,"GroupIds":["0C"],"SubjectId":" 9","TeacherId":"URBOT","RoomId":"5H","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":5,"GroupIds":["0D"],"SubjectId":"15","TeacherId":"U  12","RoomId":"2F","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":6,"GroupIds":["0D"],"SubjectId":"15","TeacherId":"U  12","RoomId":"2F","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":7,"GroupIds":["0C"],"SubjectId":"28","TeacherId":"UZBNM","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":8,"GroupIds":["0C"],"SubjectId":"11","TeacherId":"U   4","RoomId":"GZ","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""}],"DayOfWeek":1,"Date":"2020-03-09T00:00:00+01:00","DayDescription":"","DayType":"Holiday"},{"Atoms":[{"HourId":3,"GroupIds":["0C"],"SubjectId":"28","TeacherId":"UZBNM","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":4,"GroupIds":["0C"],"SubjectId":"38","TeacherId":"UNBO4","RoomId":"0X","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":5,"GroupIds":["0C"],"SubjectId":"10","TeacherId":"USBOY","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":6,"GroupIds":["0M"],"SubjectId":"30","TeacherId":"U  32","RoomId":"C0","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":7,"GroupIds":["7Z"],"SubjectId":"13","TeacherId":"UZBN3","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":8,"GroupIds":["80"],"SubjectId":"46","TeacherId":"UAMUL","RoomId":"9B","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":10,"GroupIds":["0C"],"SubjectId":" 3","TeacherId":"UUBP0","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":11,"GroupIds":["0C"],"SubjectId":"12","TeacherId":"UQBOM","RoomId":"51","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""}],"DayOfWeek":2,"Date":"2020-03-10T00:00:00+01:00","DayDescription":"","DayType":"Holiday"},{"Atoms":[{"HourId":3,"GroupIds":["0C"],"SubjectId":"10","TeacherId":"USBOY","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":4,"GroupIds":["0X"],"SubjectId":"27","TeacherId":"UZBN3","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":5,"GroupIds":["7Z"],"SubjectId":"13","TeacherId":"UZBN3","RoomId":"RR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":6,"GroupIds":["0C"],"SubjectId":"11","TeacherId":"U   4","RoomId":"GZ","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":8,"GroupIds":["80"],"SubjectId":"46","TeacherId":"UAMUL","RoomId":"ZY","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":9,"GroupIds":["0M"],"SubjectId":"30","TeacherId":"U  32","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":10,"GroupIds":["0X"],"SubjectId":"11","TeacherId":"U   4","RoomId":"ZW","CycleIds":["0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":11,"GroupIds":["0X"],"SubjectId":"11","TeacherId":"U   4","RoomId":"ZW","CycleIds":["0"],"Change":null,"HomeworkIds":[],"Theme":""}],"DayOfWeek":3,"Date":"2020-03-11T00:00:00+01:00","DayDescription":"","DayType":"Holiday"},{"Atoms":[{"HourId":3,"GroupIds":["0X"],"SubjectId":"10","TeacherId":"USBOY","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":4,"GroupIds":["0X"],"SubjectId":"28","TeacherId":"UZBNM","RoomId":"9B","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":5,"GroupIds":["0X"],"SubjectId":"27","TeacherId":"UZBN3","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":6,"GroupIds":["0C"],"SubjectId":" 9","TeacherId":"URBOT","RoomId":"5H","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":8,"GroupIds":["0C"],"SubjectId":"12","TeacherId":"UQBOM","RoomId":"51","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":9,"GroupIds":["0C"],"SubjectId":" 3","TeacherId":"UUBP0","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""}],"DayOfWeek":4,"Date":"2020-03-12T00:00:00+01:00","DayDescription":"","DayType":"Holiday"},{"Atoms":[{"HourId":3,"GroupIds":["0X"],"SubjectId":"27","TeacherId":"UZBN3","RoomId":"RR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":4,"GroupIds":["0C"],"SubjectId":" 6","TeacherId":"U  12","RoomId":"06","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":5,"GroupIds":["0C"],"SubjectId":"28","TeacherId":"UZBNM","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":7,"GroupIds":["0C"],"SubjectId":"10","TeacherId":"USBOY","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":8,"GroupIds":["0M"],"SubjectId":"30","TeacherId":"U  32","RoomId":"84","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""},{"HourId":9,"GroupIds":["0C"],"SubjectId":"38","TeacherId":"UNBO4","RoomId":"SR","CycleIds":["5","4","3","2","1","0"],"Change":null,"HomeworkIds":[],"Theme":""}],"DayOfWeek":5,"Date":"2020-03-13T00:00:00+01:00","DayDescription":"","DayType":"Holiday"}],"Classes":[{"Id":"XL","Abbrev":"X.A","Name":"X. A"}],"Groups":[{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0D","Abbrev":"X.A Chl","Name":"X. A chlapci"},{"ClassId":"XL","Id":"0D","Abbrev":"X.A Chl","Name":"X. A chlapci"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0M","Abbrev":"X.A NjV1","Name":"X. A Německý jazyk"},{"ClassId":"XL","Id":"7Z","Abbrev":"X.A KAJ2","Name":"X. A Konverzace v Aj 2"},{"ClassId":"XL","Id":"80","Abbrev":"X.A SCvM","Name":"X. A Seminář a cvičení z matematiky"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0X","Abbrev":"X.A S2","Name":"X. A Skupina 2"},{"ClassId":"XL","Id":"7Z","Abbrev":"X.A KAJ2","Name":"X. A Konverzace v Aj 2"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"80","Abbrev":"X.A SCvM","Name":"X. A Seminář a cvičení z matematiky"},{"ClassId":"XL","Id":"0M","Abbrev":"X.A NjV1","Name":"X. A Německý jazyk"},{"ClassId":"XL","Id":"0X","Abbrev":"X.A S2","Name":"X. A Skupina 2"},{"ClassId":"XL","Id":"0X","Abbrev":"X.A S2","Name":"X. A Skupina 2"},{"ClassId":"XL","Id":"0X","Abbrev":"X.A S2","Name":"X. A Skupina 2"},{"ClassId":"XL","Id":"0X","Abbrev":"X.A S2","Name":"X. A Skupina 2"},{"ClassId":"XL","Id":"0X","Abbrev":"X.A S2","Name":"X. A Skupina 2"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0X","Abbrev":"X.A S2","Name":"X. A Skupina 2"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"},{"ClassId":"XL","Id":"0M","Abbrev":"X.A NjV1","Name":"X. A Německý jazyk"},{"ClassId":"XL","Id":"0C","Abbrev":"X.A","Name":"X. A"}],"Subjects":[{"Id":" 6","Abbrev":"B","Name":"Biologie"},{"Id":" 9","Abbrev":"Z","Name":"Zeměpis"},{"Id":"15","Abbrev":"TV","Name":"Tělesná výchova"},{"Id":"28","Abbrev":"ČJL","Name":"Český jazyk a literatura"},{"Id":"11","Abbrev":"F","Name":"Fyzika"},{"Id":"38","Abbrev":"ZSV","Name":"Základy společenských věd"},{"Id":"10","Abbrev":"M","Name":"Matematika"},{"Id":"30","Abbrev":"NJ","Name":"Německý jazyk"},{"Id":"13","Abbrev":"KAJ","Name":"Konverzace v anglickém jazyce"},{"Id":"46","Abbrev":"SCvM","Name":"Seminář a cvičení z matematiky"},{"Id":" 3","Abbrev":"D","Name":"Dějepis"},{"Id":"12","Abbrev":"Ch","Name":"Chemie"},{"Id":"27","Abbrev":"AJ","Name":"Anglický jazyk"}],"Teachers":[{"Id":"U  12","Abbrev":"Ha","Name":"Mgr. Karel H..."},{"Id":"URBOT","Abbrev":"JT","Name":"Mgr. Tomáš J..."},{"Id":"UZBNM","Abbrev":"Kr","Name":"Mgr. Karel K.."},{"Id":"U   4","Abbrev":"Ji","Name":"RNDr. Josef J.."},{"Id":"UNBO4","Abbrev":"Tr","Name":"Mgr. Jaroslav T..."},{"Id":"USBOY","Abbrev":"UM","Name":"Mgr. Martina H.."},{"Id":"U  32","Abbrev":"VJ","Name":"Mgr. Jitka V.."},{"Id":"UZBN3","Abbrev":"Sa","Name":"Mgr. Jana S.."},{"Id":"UAMUL","Abbrev":"Mz","Name":"Mgr. Petr M.."},{"Id":"UUBP0","Abbrev":"Sc","Name":"Mgr. Boleslav S.."},{"Id":"UQBOM","Abbrev":"BP","Name":"Ing. Pavel B..."}],"Rooms":[{"Id":"0X","Abbrev":"B","Name":""},{"Id":"5H","Abbrev":"5p","Name":""},{"Id":"2F","Abbrev":"Tv1","Name":""},{"Id":"SR","Abbrev":"Xa","Name":""},{"Id":"GZ","Abbrev":"F","Name":""},{"Id":"C0","Abbrev":"2p","Name":""},{"Id":"9B","Abbrev":"2a","Name":""},{"Id":"51","Abbrev":"CH","Name":""},{"Id":"RR","Abbrev":"J 33","Name":""},{"Id":"ZY","Abbrev":"7p","Name":""},{"Id":"ZW","Abbrev":"LF","Name":""},{"Id":"06","Abbrev":"IVTN","Name":""},{"Id":"84","Abbrev":"J 37","Name":""}],"Cycles":[{"Id":"5","Abbrev":"F","Name":"Lichy 3"},{"Id":"4","Abbrev":"D","Name":"Sudy 3"},{"Id":"3","Abbrev":"E","Name":"Lichy 2"},{"Id":"2","Abbrev":"C","Name":"Sudy 2"},{"Id":"1","Abbrev":"B","Name":"Lichy 1"},{"Id":"0","Abbrev":"A","Name":"Sudy 1"}]}'

    return j

@app.get("/api/3/marks")
def marksAPI() :
    #JSON from https://github.com/bakalari-api/bakalari-api-v3/blob/master/moduly/marks.md
    j = '{"Subjects":[{"Marks":[{"MarkDate":"2020-01-28T00:00:00+01:00","EditDate":"2020-02-17T08:33:00+01:00","Caption":"Májovci + R + L","Theme":"","MarkText":"3","TeacherId":"UZBNM","Type":"O","TypeNote":"písemná práce","Weight":5,"SubjectId":"28","IsNew":false,"IsPoints":false,"CalculatedMarkText":"","ClassRankText":null,"Id":"BNMPSLI70(","PointsText":"","MaxPoints":0},{"MarkDate":"2020-02-13T00:00:00+01:00","EditDate":"2020-02-20T07:36:00+01:00","Caption":"D - Nedlouho po zahájení","Theme":"","MarkText":"3-","TeacherId":"UZBNM","Type":"W","TypeNote":"písemka střední","Weight":3,"SubjectId":"28","IsNew":false,"IsPoints":false,"CalculatedMarkText":"","ClassRankText":null,"Id":"BNMVP:T:1N","PointsText":"","MaxPoints":0},{"MarkDate":"2020-02-13T00:00:00+01:00","EditDate":"2020-02-20T07:36:00+01:00","Caption":"VJR - Ještě než si Josef","Theme":"","MarkText":"2","TeacherId":"UZBNM","Type":"W","TypeNote":"písemka střední","Weight":3,"SubjectId":"28","IsNew":false,"IsPoints":false,"CalculatedMarkText":"","ClassRankText":null,"Id":"BNMVP:T:1O","PointsText":"","MaxPoints":0}],"Subject":{"Id":"28","Abbrev":"ČJL ","Name":"Český jazyk a literatura"},"AverageText":"2,86 ","TemporaryMark":"","SubjectNote":"","TemporaryMarkNote":"","PointsOnly":false,"MarkPredictionEnabled":true},{"Marks":[{"MarkDate":"2020-01-30T00:00:00+01:00","EditDate":"2020-02-06T13:13:00+01:00","Caption":"1. Statistika","Theme":"","MarkText":"82","TeacherId":"USBOY","Type":"Z","TypeNote":"zkoušení písemné","Weight":null,"SubjectId":"10","IsNew":false,"IsPoints":true,"CalculatedMarkText":"","ClassRankText":null,"Id":"BOYV.N}FF4","PointsText":"","MaxPoints":100},{"MarkDate":"2020-02-07T00:00:00+01:00","EditDate":"2020-02-12T18:14:00+01:00","Caption":"2. Analyt.g. 1","Theme":"","MarkText":"76","TeacherId":"USBOY","Type":"Z","TypeNote":"zkoušení písemné","Weight":null,"SubjectId":"10","IsNew":false,"IsPoints":true,"CalculatedMarkText":"","ClassRankText":null,"Id":"BOYD[1O_=V","PointsText":"","MaxPoints":100},{"MarkDate":"2020-02-21T00:00:00+01:00","EditDate":"2020-02-25T16:07:00+01:00","Caption":"3. Analyt. g. 2","Theme":"","MarkText":"100","TeacherId":"USBOY","Type":"Z","TypeNote":"zkoušení písemné","Weight":null,"SubjectId":"10","IsNew":false,"IsPoints":true,"CalculatedMarkText":"","ClassRankText":null,"Id":"BOYVG*|:2|","PointsText":"","MaxPoints":100},{"MarkDate":"2020-03-06T00:00:00+01:00","EditDate":"2020-03-06T16:00:00+01:00","Caption":"4. Analyt. g.","Theme":"","MarkText":"83","TeacherId":"USBOY","Type":"Z","TypeNote":"zkoušení písemné","Weight":null,"SubjectId":"10","IsNew":false,"IsPoints":true,"CalculatedMarkText":"","ClassRankText":null,"Id":"BOYP9PG6KS","PointsText":"","MaxPoints":100}],"Subject":{"Id":"10","Abbrev":"M   ","Name":"Matematika"},"AverageText":"0,85 ","TemporaryMark":"","SubjectNote":"","TemporaryMarkNote":"","PointsOnly":false,"MarkPredictionEnabled":true}]}'

    return j

@app.post("/api/3/komens/messages/received")
def komensAPI() :
    #JSON (modified) from https://github.com/bakalari-api/bakalari-api-v3/blob/master/moduly/komens.md
    j = '{"Messages":[{"$type":"GeneralMessage","Id":"6d798902ddd8","Title":"About your recent behaviour..","Text":"You\'re doing great! <br><br>Keep up the pace, and we hopefully won\'t have to call the police about that thing.<br><br>-Jane Smith","SentDate":"2021-12-31T09:02:44+02:00","Sender":{"Id":"UZYNQ","Type":"administrator","Name":"Jane Smith"},"Attachments":[],"Read":true,"LifeTime":"ToRead","DateFrom":null,"DateTo":null,"Confirmed":true,"CanConfirm":false,"Type":"OBECNA","CanAnswer":true,"Hidden":false,"CanHide":true,"RelevantName":"ředitelství","RelevantPersonType":"administrator"},{"$type":"GeneralMessage","Id":"6d798902dcd7","Title":"What\'s a dolphin?","Text":"wat","SentDate":"2021-12-30T09:02:44+02:00","Sender":{"Id":"UZYNQ","Type":"administrator","Name":"Mr. Smart Guy"},"Attachments":[],"Read":true,"LifeTime":"ToRead","DateFrom":null,"DateTo":null,"Confirmed":true,"CanConfirm":false,"Type":"OBECNA","CanAnswer":true,"Hidden":false,"CanHide":true,"RelevantName":"ředitelství","RelevantPersonType":"administrator"},{"$type":"GeneralMessage","Id":"6d198902dcd7","Title":"ich bin a master hacker.","Text":"yea. ich bin hacker.<br><img src=\\"https://pixabay.com/get/g66228686420c1aa986d1558cf545f2b538035ffe7ed863aaec50591294f1861d8983a4bb5a6cf5dc3f0e6a18a466cd4033683e2bc4c38444772a713d5af0981da90581383393588c421354daaf03fea4_640.jpg\\"><br><a href=\\"https://pixabay.com/photos/hacker-silhouette-hack-anonymous-3342696/\\">Image source</a><br><br><br>Yup, I\'m essentially letting the users XXS themselves.<p>I at least block the script and iframe tags.</p> <script></script>","SentDate":"2021-12-31T07:02:44+02:00","Sender":{"Id":"UZYNQ","Type":"administrator","Name":"anonymus"},"Attachments":[],"Read":true,"LifeTime":"ToRead","DateFrom":null,"DateTo":null,"Confirmed":true,"CanConfirm":false,"Type":"OBECNA","CanAnswer":true,"Hidden":false,"CanHide":true,"RelevantName":"ředitelství","RelevantPersonType":"administrator"}]}'

    return j

if __name__ == "__main__" :
    app.run(threaded=True, host="0.0.0.0", port=5001, debug=False)